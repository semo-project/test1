#report-query.properties

#admin-board
getListBoardCount=SELECT COUNT(*) FROM TB_REPORT WHERE REPORT_GROUP_NO = 1 AND CONFIRM_FLAG = 'N' 
selectBoardList=SELECT * FROM (SELECT ROWNUM RNUM, A.* FROM (SELECT R.REPORT_NO, M.MEMBER_ID, M.MEMBER_NO, R.REPORT_CLASS_NAME, R.WRITING_NO, B.BOARD_TITLE, R.REPORT_DATE, R.REPORT_CONTENT, B.GROUP_NAME FROM TB_REPORT R LEFT JOIN TB_BOARD B ON (B.BOARD_NO = R.WRITING_NO) LEFT JOIN TB_MEMBER M ON (R.MEMBER_NO = M.MEMBER_NO) WHERE R.REPORT_GROUP_NO = 1 AND CONFIRM_FLAG = 'N' ORDER BY R.REPORT_NO DESC) A) WHERE RNUM BETWEEN ? AND ?
getSearchBoardCount=SELECT COUNT(*) FROM TB_REPORT JOIN TB_MEMBER USING(MEMBER_NO) WHERE REPORT_GROUP_NO = 1 AND CONFIRM_FLAG = 'N' AND MEMBER_ID LIKE ('%' || ? || '%')
selectSearchBoardList=SELECT * FROM (SELECT ROWNUM RNUM, A.* FROM (SELECT R.REPORT_NO, M.MEMBER_ID, M.MEMBER_NO, R.REPORT_CLASS_NAME, R.WRITING_NO, B.BOARD_TITLE, R.REPORT_DATE, R.REPORT_CONTENT, B.GROUP_NAME FROM TB_REPORT R LEFT JOIN TB_BOARD B ON (B.BOARD_NO = R.WRITING_NO) LEFT JOIN TB_MEMBER M ON (R.MEMBER_NO = M.MEMBER_NO) WHERE R.REPORT_GROUP_NO = 1 AND CONFIRM_FLAG = 'N' AND M.MEMBER_ID LIKE ('%' || ? || '%') ORDER BY R.REPORT_NO DESC) A) WHERE RNUM BETWEEN ? AND ?

#admin-comment
getListCommentCount=SELECT COUNT(*) FROM TB_REPORT WHERE REPORT_GROUP_NO != 1 AND CONFIRM_FLAG = 'N' 
selectCommentList=SELECT * FROM (SELECT ROWNUM RNUM, A.* FROM (SELECT CASE WHEN REPORT_GROUP_NO = 2 THEN (SELECT COMMENT_CONTENT FROM TB_BCOMMENT BC WHERE R.WRITING_NO = BC.COMMENT_NO) WHEN REPORT_GROUP_NO = 3 THEN (SELECT CONTENT FROM TB_COMMENT C WHERE R.WRITING_NO = C.EP_COMMENT_NO) END AS REPORT_COMMENT, R.REPORT_NO, R.REPORT_GROUP_NO, R.MEMBER_NO, M.MEMBER_ID, R.REPORT_CLASS_NAME, R.REPORT_DATE, R.REPORT_CONTENT FROM TB_REPORT R JOIN TB_MEMBER M ON R.MEMBER_NO = M.MEMBER_NO WHERE REPORT_GROUP_NO != 1 AND CONFIRM_FLAG = 'N' ORDER BY REPORT_NO DESC) A) WHERE RNUM BETWEEN ? AND ?
getListCommentSearchCount=SELECT COUNT(*) FROM TB_REPORT R JOIN TB_MEMBER M ON (R.MEMBER_NO = M.MEMBER_NO) WHERE REPORT_GROUP_NO != 1 AND CONFIRM_FLAG = 'N' AND MEMBER_ID LIKE ('%' || ? || '%')
selectCommentSearchList=SELECT * FROM (SELECT ROWNUM RNUM, A.* FROM (SELECT CASE WHEN REPORT_GROUP_NO = 2 THEN (SELECT COMMENT_CONTENT FROM TB_BCOMMENT BC WHERE R.WRITING_NO = BC.COMMENT_NO) WHEN REPORT_GROUP_NO = 3 THEN (SELECT CONTENT FROM TB_COMMENT C WHERE R.WRITING_NO = C.EP_COMMENT_NO) END AS REPORT_COMMENT, R.REPORT_NO, R.REPORT_GROUP_NO, R.MEMBER_NO, M.MEMBER_ID, R.REPORT_CLASS_NAME, R.REPORT_DATE, R.REPORT_CONTENT FROM TB_REPORT R JOIN TB_MEMBER M ON R.MEMBER_NO = M.MEMBER_NO WHERE REPORT_GROUP_NO != 1 AND CONFIRM_FLAG = 'N' AND M.MEMBER_ID LIKE ('%' || ? || '%') ORDER BY REPORT_NO DESC) A) WHERE RNUM BETWEEN ? AND ?
